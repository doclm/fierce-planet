
<!DOCTYPE html>
<html>
<head>
  <title>Fierce Planet</title>

  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

  <!-- STYLESHEET INCLUDES -->
  <link href="/stylesheets/styles.css?1311554765" media="screen" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/custom/jquery-ui-1.8.14.custom.css?1311428602" media="screen" rel="stylesheet" type="text/css" />


  <!-- JAVASCRIPT INCLUDES -->
  <!-- Allow for optimised use of Google API -->
      <!-- For localhost -->
      <!--<script src="https://www.google.com/jsapi?key=ABQIAAAARoOs6ILY9Ci-wjXDl46j4xTJQa0g3IQ9GZqIMmInSLzwtGDKaBT5Gl1FUC-xR0F8NySH1hgQiauZJw" type="text/javascript"></script>-->
  <!-- TODO: Can the custom UI be further optimised? -->
  <script src="/javascripts/jquery-1.6.2.js?1310253599" type="text/javascript"></script>
  <script src="/javascripts/jquery-ui-1.8.14.custom.min.js?1310705337" type="text/javascript"></script>
  <script src="/javascripts/jquery.json-2.2.min.js?1300883562" type="text/javascript"></script>
  <script src="/javascripts/jquery.mousewheel.3.0.2/jquery.mousewheel.min.js?1307620826" type="text/javascript"></script>
  <script src="/javascripts/jquery.zoom.js?1307882804" type="text/javascript"></script>


  <script type="text/javascript">
//<![CDATA[
var AUTH_TOKEN = "ohhiJPTf/IfbW4VWcR5sd7ilxOBftU2BeetuUpwyVVw=";
//]]>
</script>  <script src="/javascripts/rails.js?1309682881" type="text/javascript"></script>

  <!-- Load FiercePlanet classes here -->
  <script type="text/javascript">
//<![CDATA[
var FiercePlanet = FiercePlanet || {};
//]]>
</script>
  <script>
    // Test resizing for different devices
      $(document).ready(function() {
          // TODO: Test code for iframe (i.e. Facebook app version)
          if (top != self) {
              $('#wrapper').offset({left:-332, top: -65});
              $('#controls').css({left:-62});
              $('#gameworld').css({left:25});
              $('#world').css({padding: 4});
              $('#global-info-panel').css({left:518});
              $('#swatch').css({left:518});
          }
      });

  </script>

      <script src="/javascripts/agents/framework/world.js?1311427898" type="text/javascript"></script>
      <script src="/javascripts/agents/framework/agent.js?1311461423" type="text/javascript"></script>
      <script src="/javascripts/agents/framework/catastrophe.js?1310135569" type="text/javascript"></script>
      <script src="/javascripts/agents/framework/level.js?1311550896" type="text/javascript"></script>
      <script src="/javascripts/agents/framework/resource.js?1311550818" type="text/javascript"></script>
      <script src="/javascripts/agents/framework/tile.js?1310512870" type="text/javascript"></script>

      <script src="/javascripts/agents/fp-models/profile.js?1310253599" type="text/javascript"></script>
      <script src="/javascripts/agents/fp-models/profile_class.js?1309127828" type="text/javascript"></script>
      <script src="/javascripts/agents/fp-models/settings.js?1310037091" type="text/javascript"></script>
      <script src="/javascripts/agents/fp-models/notice.js?1309127389" type="text/javascript"></script>
      <script src="/javascripts/agents/fp-models/event.js?1310269870" type="text/javascript"></script>

      <script src="/javascripts/agents/fp-data/resource_types.js?1311427898" type="text/javascript"></script>
      <!-- Change this to load other resource categories -->
      <script src="/javascripts/agents/fp-data/resourceset/tbl.js?1310559269" type="text/javascript"></script>
      <script src="/javascripts/agents/fp-data/resourceset/cos.js?1310255747" type="text/javascript"></script>
      <script src="/javascripts/agents/fp-data/player_classes.js?1309127785" type="text/javascript"></script>
      <script src="/javascripts/agents/fp-data/agent_types.js?1311210814" type="text/javascript"></script>

      <script src="/javascripts/agents/fp-ui/dialogs.js?1311513089" type="text/javascript"></script>
      <script src="/javascripts/agents/fp-ui/drawing.js?1311552645" type="text/javascript"></script>
      <script src="/javascripts/agents/fp-ui/general-ui.js?1311556389" type="text/javascript"></script>
      <script src="/javascripts/agents/fp-ui/profile-ui.js?1311554111" type="text/javascript"></script>
      <script src="/javascripts/agents/fp-ui/resource-ui.js?1311551554" type="text/javascript"></script>
      <script src="/javascripts/agents/editor.js?1311511725" type="text/javascript"></script>
      <script src="/javascripts/agents/lifecycle.js?1311553592" type="text/javascript"></script>
      <script src="/javascripts/agents/params.js?1311507955" type="text/javascript"></script>
      <script src="/javascripts/agents/recording.js?1309127138" type="text/javascript"></script>
      <script src="/javascripts/agents/utils.js?1311429403" type="text/javascript"></script>
      <script src="/javascripts/agents/utils/log.js?1311429349" type="text/javascript"></script>
      <script src="/javascripts/agents/game.js?1311554476" type="text/javascript"></script>

      <!-- Last to load - has strong dependencies on all other classes -->
      <script src="/javascripts/agents/fp-data/levels.js?1311504453" type="text/javascript"></script>
      <script src="/javascripts/agents/dev.js?1309823234" type="text/javascript"></script>


  <!-- CONDITIONAL AND UTILITY BLOCKS -->

  <!-- Set the resource type namespace here -->

  <!-- If test parameter is passed, showed the QUnit test runner -->

  <!-- If a user is logged in, set their properties here -->
      <script>
            // Converts the current (Ruby) profile to a JavaScript object
          var profileProxy = $.evalJSON('{"ave_expired":2,"ave_resources_spent":355,"ave_resources_spent_by_category":{"eco":1.0681818181818181,"env":1.4772727272727273,"soc":1.0454545454545454},"ave_saved":48,"capabilities":["farm","water","clinic","shop","park","school","bank","air","legal","factory","energy","democracy","stockmarket","biodiversity","festival"],"credits":117191,"current_level":1,"current_level_expired":0,"current_level_is_preset":true,"current_level_resources_in_store":245,"current_level_resources_spent":20,"current_level_resources_spent_by_category":{"eco":1,"env":1,"soc":0},"current_level_saved":55,"current_level_saved_this_wave":10,"current_level_waves":null,"current_score":1100,"game_ave_expired":2,"game_ave_resources_spent":355,"game_ave_resources_spent_by_category":{"eco":1.0681818181818181,"env":1.4772727272727273,"soc":1.0454545454545454},"game_ave_saved":33,"game_highest_level":11,"game_score":1100,"game_total_expired":103,"game_total_levels":44,"game_total_resources_spent":15625,"game_total_resources_spent_by_category":{"eco":47,"env":65,"soc":46},"game_total_saved":1490,"highest_level":11,"highest_score":12230,"id":1,"nickname":"doclm3","profile_class":"Expert","progress_towards_next_class":366,"status":"","total_economic_resources":0,"total_environmental_resources":0,"total_expired":121,"total_levels":44,"total_resources_spent":15626,"total_resources_spent_by_category":{"eco":47,"env":65,"soc":46},"total_saved":2134,"total_social_resources":0,"user_id":1}');
          FiercePlanet.currentProfile = profileProxy;
          Profile.makeProfile(FiercePlanet.currentProfile);

          $(document).ready(function() {
              FiercePlanet.refreshSwatch();
              FiercePlanet.currentLevelNumber = 0;
              FiercePlanet.newLevel();
          });

      </script>

  <meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="ohhiJPTf/IfbW4VWcR5sd7ilxOBftU2BeetuUpwyVVw="/>


<script>
  // Test resizing for different devices
    $(document).ready(function() {
        // TODO: Test code for mobile version
        var ua = navigator.userAgent.toLowerCase();
        var isAndroid = ua.indexOf("android") > -1; //&& ua.indexOf("mobile");
        if(isAndroid) {
          // Do something!
          World.settings.agentsCanCommunicate = false;
          World.settings.scrollingImageVisible = false;
        }

    });

</script>
</head>
<body>
<div id="wrapper">
  <div id="content-pane">

        <div id="global-info-panel">
  <div id="highscore">
<a href="/profiles/high_scores" data-method="get" data-remote="true">        Highest Score: <span id="highest-score-display">0</span>
</a>  </div>
  <div id="score"> Score: <span id="score-display">&nbsp; &nbsp;500</span> </div>
  <div id="level"> Level: <span id="level-display">0</span> </div>
  <div id="waves" > Waves: <span id="waves-display">1/20</span> </div>
  <div id="expired-citizens">    </div>
  <div id="saved"> Saved: <span id="saved-display">0</span> </div>
  <div id="resourceLevels">Resources: <span id="goodness-display">100</span> </div>
  <a href="#" id="showResourceGallery" title="Resource Gallery">(More)</a>
</div>


        <div id="gameworld">
          <div id="world">
            <canvas id="imageCanvas" width="480" height="400" style="z-index: 0;">This text is displayed if your browser does not support HTML5 Canvas.</canvas>
              <div id="map_canvas" width="480" height="400" style="z-index: 1; border: 0"></div>
            <canvas class="scrollable-canvas" id="baseCanvas" width="480" height="400" style="z-index: 2;"></canvas>
            <canvas class="scrollable-canvas" id="resourceCanvas" width="480" height="400" style="z-index: 3;"></canvas>
            <canvas id="scrollingCanvas" width="480" height="400" style="z-index: 4;"></canvas>
            <canvas id="noticeCanvas" width="480" height="400" style="z-index: 5;"></canvas>
            <canvas class="scrollable-canvas" id="agentCanvas" width="480" height="400" style="z-index: 6;"></canvas>
          </div>
        </div>




        <!-- Should always be visible -->

       <div id="info">
          <div id="global-info">
            <div id="user-links">
                    <div id="profile" style="display:none"> <span id="profile-class-display">0</span> </div>
                    <span id="welcome-link">
                      <a href="/profiles/1/edit" data-remote="true">Welcome doclm3 (Expert)</a> |
                    </span>
                      <a target="_blank" href="http://blog.fierce-planet.com/" id="blog">Blog</a> |
                    <!--<a href="/feedbacks/new" data-remote="true">Contact</a> |-->
                    <a href="#" id="credits">Credits</a> |
                    <a href="/users/sign_out">Logout</a>
            </div>
          </div>
        </div>

        <!-- Should always be visible -->
        <!-- Should always be visible -->
<div id="controls">
    <div id="playAgents" class="playing"><span class="hide">Play</span></div>
    <div id="slowDown"><span class="hide">Slower</span></div>
    <div id="speedUp"><span class="hide">Faster</span></div>
    <div id="newGame"><span class="hide">New</span></div>
    <div id="restartLevel"><span class="hide">Restart</span></div>

    <div class="divide"></div>

    <div id="panUp"><span class="hide">pan Up</span></div>
    <div id="panLeft"><span class="hide">pan Left</span></div>
    <div id="panReset"><span class="hide">pan Reset</span></div>
    <div id="panRight"><span class="hide">pan Right</span></div>
    <div id="panDown"><span class="hide">pan Down</span></div>

  <div class="divide"></div>
    <div id="zoomOut"><span class="hide">zoom Out</span></div>
    <div id="zoomReset"><span class="hide">zoom Reset</span></div>
    <div id="zoomIn"><span class="hide">zoom In</span></div>
  <div class="divide"></div>

    <a href="#" id="tutorial">Tutorial</a>
    <a href="#" id="openLevelGallery">Levels</a>
  <a href="#" id="settings">Settings</a>
      <a href="/levels" data-method="get" data-remote="true" id="editor">Editor</a>
    <div class="divide"></div>
      <div id="admin-controls" style="display: block">
          <button id="run">Run</button>
          <button id="jump">Jump</button>
          <button id="dance">Dance</button>
          <button id="upsideDown">Upside Down</button>

          <button id="debug">Debug</button>
          <button id="replay">Replay</button>
          <button id="script-editor">Script Editor</button>
          <button id="story-board">Story board</button>
        <div class="divide"></div>
      </div>
</div>

<div id="notifications" style="display: none">
  <p>Opening Level 1...</p>
</div>


        <!-- Should only be visible when NOT in design mode -->
        <!-- Should only be visible when NOT in design mode -->
<div id="swatch">
  <!-- This list is generated -->
</div>




        <!-- Should only be visible when in design mode -->


<div id="level-features" style="display: none;">
  <div><a href="#" id="add-entry-point">Add Entry Point</a></div>
  <div><a href="#" id="remove-entry-point">Delete Entry Point</a></div>
  <div><a href="#" id="add-exit-point">Add Exit Point</a></div>
  <div><a href="#" id="remove-exit-point">Delete Exit Point</a></div>
  <div><a href="#" id="make-tile">Add Tile</a></div>
</div>

<div id="level-editor" style="display: none;">

  <div><a href="#" id="refresh-tiles">Clear all</a></div>
  <div><a href="#" id="fill-all">Fill all</a></div>
  <div><a href="#" id="clear-entry-points">Clear Entry Points</a></div>
  <div><a href="#" id="clear-exit-points">Clear Exit Points</a></div>

  <div><a href="#" id="show-level-properties">Properties</a></div>
  <div><a href="#" id="undo-action">Undo (last action only)</a></div>
  <div><a href="#" id="cancel-level-editor">Close Editor</a></div>
  <div id="level-editor-form"></div>

</div>

    <!-- Dialog boxes - should only be visible when explicitly invoked -->
    <div id="delete-upgrade-dialog" style="display: none;">
  <div id="delete-option">
    <a href="#" id="del-button">Delete <br/>
      <small>(Revenue: 5)</small>
    </a>
  </div>
  <div id="upgrade-option" style="display: none">
    <a href="#" id="upg-button">Upgrade <br/>
      <!--<small>(Cost: 20; PAY: 20)</small>-->
    </a>
  </div>
</div>
    <div id="resource-gallery" style="display: none;">
  <div>
    Current class: <span id="current-profile-class">Expert</span>
    <br/>
    Credits: <span id="current-credits">117191</span>
    <br/>
    Capabilities: <span id="current-capabilities">[&quot;farm&quot;, &quot;water&quot;, &quot;clinic&quot;, &quot;shop&quot;, &quot;park&quot;, &quot;school&quot;, &quot;bank&quot;, &quot;air&quot;, &quot;legal&quot;, &quot;factory&quot;, &quot;energy&quot;, &quot;democracy&quot;, &quot;stockmarket&quot;, &quot;biodiversity&quot;, &quot;festival&quot;]</span>
    <br/>
    <em>Click on a resource to purchase:</em>
    <br/>
  </div>

  <div id="gallery-items">
    <!-- This list is generated -->
  </div>

</div>

    <div id="level-gallery-dialog" style="display: none;">

  <div id="level-gallery-tabs">

  	<ul>
        <li><a href="#default-levels">Default levels</a></li>
		<li>
          <a href="/levels/gallery">Custom levels</a>
        </li>
        <li><a href="#difficulty">Difficulty</a></li>
	</ul>


  <div id="default-levels">
    <div id="thumbnails">
      <div id="levelSelect1" class="thumbnail"><img src="/images/levels/level-thumbnail-1.png" alt="">

        <div><strong>Level 1:</strong><br/> Welcome to Fierce Planet!</div>
      </div>
      <div id="levelSelect2" class="thumbnail"><img src="/images/levels/level-thumbnail-2.png" alt="">

        <div><strong>Level 2:</strong><br/> Twists and Turns</div>
      </div>
      <div id="levelSelect3" class="thumbnail"><img src="/images/levels/level-thumbnail-3.png" alt="">

        <div><strong>Level 3: </strong><br/> Waves of Uncertainty</div>
      </div>
      <div id="levelSelect4" class="thumbnail"><img src="/images/levels/level-thumbnail-4.png" alt="">

        <div><strong>Level 4:</strong><br/> Spiral of Doom</div>
      </div>
      <div id="levelSelect5" class="thumbnail"><img src="/images/levels/level-thumbnail-5.png" alt="">

        <div><strong>Level 5:</strong><br/> A-mazing Grace</div>
      </div>
      <div id="levelSelect6" class="thumbnail"><img src="/images/levels/level-thumbnail-6.png" alt="">

        <div><strong>Level 6:</strong><br/> Dire Straits</div>
      </div>
      <div id="levelSelect7" class="thumbnail"><img src="/images/levels/level-thumbnail-7.png" alt="">

        <div><strong>Level 7:</strong><br/> Like, Totally Random...</div>
      </div>
      <div id="levelSelect8" class="thumbnail"><img src="/images/levels/level-thumbnail-8.png" alt="">

        <div><strong>Level 8:</strong><br/> A Fork (or Two) in the Road</div>
      </div>
      <div id="levelSelect9" class="thumbnail"><img src="/images/levels/level-thumbnail-9.png" alt="">

        <div><strong>Level 9:</strong><br/> Cascades</div>
      </div>
      <div id="levelSelect10" class="thumbnail"><img src="/images/levels/level-thumbnail-10.png" alt="">

        <div><strong>Level 10:</strong><br/> Fields of Ma(i)ze</div>
      </div>
      <div id="levelSelect11" class="thumbnail"><img src="/images/levels/level-thumbnail-11.png" alt="">

        <div><strong>Level 11:</strong><br/> It's a Mad World</div>
      </div>
    </div>

    <form>
      <div style="clear:both; display: none">
        Select a level:
        <br/>
        <select id="levelInput" name="levelInput" size="11">
          <option value="1">Level 1: Welcome to Fierce Planet!</option>
          <option value="2">Level 2: Twists and Turns</option>
          <option value="3">Level 3: Waves of Uncertainty</option>
          <option value="4">Level 4: Spiral of Doom</option>
          <option value="5">Level 5: A-mazing Grace</option>
          <option value="6">Level 6: Dire Straits</option>
          <option value="7">Level 7: Like, Totally Random...</option>
          <option value="8">Level 8: A Fork (or Two) in the Road</option>
          <option value="9">Level 9: Cascades</option>
          <option value="10">Level 10: Fields of Ma(i)ze</option>
          <option value="11">Level 11: It's a Mad World</option>
        </select>
      </div>

    </form>
  </div>


  <div id="difficulty">
    <form>
      <div>
        Select difficulty:
        <br/>
        <!--<select id="difficultyInput" name="difficultyInput" size="4">-->
          <!--<option value="1">Easy</option>-->
          <!--<option value="2" selected="selected">Medium</option>-->
          <!--<option value="3">Hard</option>-->
          <!--<option value="4">EXTREME</option>-->
        <!--</select>-->

        <div><input id="difficulty-input-1" class="difficultyInput" name="difficultyInput" type="radio" value="1">Easy</div>
        <div><input id="difficulty-input-2" class="difficultyInput" name="difficultyInput" type="radio" value="2" checked="checked">Medium</div>
        <div><input id="difficulty-input-3" class="difficultyInput" name="difficultyInput" type="radio" value="3">Hard</div>
        <div><input id="difficulty-input-4" class="difficultyInput" name="difficultyInput" type="radio" value="4">Extreme</div>




      </div>

    </form>
  </div>


    </div>
</div>


<script>
// Add event handlers when dialog is loaded
$(document).ready(function() {
    $('.thumbnail').click(FiercePlanet.changePresetLevelDirectly);
    FiercePlanet.highlightGalleryItem(FiercePlanet.currentLevelNumber);
//    $('#levelInput').change(FiercePlanet.changePresetLevel);

    $('#difficulty-input-' + FiercePlanet.levelOfDifficulty).attr('checked', 'checked');
    $(".difficultyInput").click(FiercePlanet.changeDifficulty);
//    $('#difficultyInput').change(FiercePlanet.changeDifficulty);
});

</script>

    <div id="settings-dialog" style="display: none;">

  <div id="settings-tabs">

  	<ul>
        <li><a href="#user-interface">User interface</a></li>
        <li><a href="#game-settings">Game play</a></li>
		<li><a href="#experimental" style="display: block">Experimental</a></li>
		<li><a href="#testing" style="display: block">Testing</a></li>
	</ul>



  <div id="game-settings">
    <div>
      <input id="resourcesInTension"  type="checkbox"/>
      Resources affect neighbouring resources
    </div>
    <div>
      <input id="resourcesInTensionGlobally"  type="checkbox"/>
      Resources affect all other resources
    </div>
    <div>
      <input id="ignoreResourceBalance"  type="checkbox"/>
      Resource balance has no effect
    </div>
    <div>
      <input id="applyGeneralHealth"  type="checkbox"/>
      Resource categories have no effect
    </div>
    <div>
      <input id="agentsCanCommunicate"  type="checkbox" checked="checked"/>
       Agents share their memories
    </div>
    <div>
      <input id="agentsHaveRandomInitialHealth"  type="checkbox"/>
      Agents have random initial health
    </div>

    <div style="display:none">
      <input id="resourceBonus"  type="checkbox"/>
      Resource mix bonus [NOT YET FUNCTIONAL]
    </div>
    <div style="display:none">
      <input id="resourcesUpgradeable"  type="checkbox"/>
      Resources can be upgraded [NOT YET FUNCTIONAL]
    </div>
  </div>



  <div id="user-interface">
    <div>
      <input id="noticesVisible"  type="checkbox" checked="checked"/> Show notices
    </div>
    <div>
      <input id="scrollingImageVisible"  type="checkbox" checked="checked"/>
      Show scrolling image
    </div>
    <div>
      <input id="catastrophesVisible"  type="checkbox" checked="checked"/>
      Show catastrophes
    </div>
    <div>
      <input id="disableKeyboardShortcuts"  type="checkbox"/> Disable keyboard shortcuts
    </div>
    <div>
      <input id="soundsPlayable"  type="checkbox"/> Play sounds
    </div>
    <div>
      <input id="useInlineResourceSwatch"  type="checkbox" />
      Show inline resource pop-up
    </div>
    <div>
      <input id="allowInlinePanning"  type="checkbox" />
      Allow inline panning
    </div>
    <div>
      <input id="agentTracing"  type="checkbox"/> Show agent movement
    </div>
    <div>
      <input id="invisiblePath"  type="checkbox"/> Make path invisible
    </div>
  </div>




  <div id="experimental" style="display: block">
        <h4>Experimental options</h4>
        <div>
          <input id="rivalsVisible"  type="checkbox"/> Show rivals
        </div>
        <div>
          <input id="predatorsVisible"  type="checkbox"/> Show predators
        </div>
        <div>
          <input id="tilesMutable"  type="checkbox"/> Allow tiles to be added
        </div>
        <div>
          <input id="tilesRemovable"  type="checkbox"/> Allow tiles to be removed
        </div>
        <div>
          <input id="backgroundIconsVisible"  type="checkbox"/> Show background icons
        </div>
  </div>

  <div id="testing">
    <div>
      <input id="recording"  type="checkbox"/> Record game
    </div>
    <div>
      <input id="godMode"  type="checkbox"/> Play in 'god' mode
    </div>
  </div>


  </div>


</div>


    <!--<audio id="background-sound" autoplay controls preload loop>-->
      <!--<source src="http://forestmist.org/wp-content/uploads/2010/04/html5-audio-loop.mp3">-->
    <!--</audio>-->

  </div>
</div>

</body>
</html>
